function initShaders(r,t,e){var a,n,o=document.getElementById(t);if(!o)return alert("Unable to load vertex shader "+t),-1;if(a=r.createShader(r.VERTEX_SHADER),r.shaderSource(a,o.text),r.compileShader(a),!r.getShaderParameter(a,r.COMPILE_STATUS)){var i="Vertex shader failed to compile.  The error log is:<pre>"+r.getShaderInfoLog(a)+"</pre>";return alert(i),-1}var l=document.getElementById(e);if(!l)return alert("Unable to load vertex shader "+e),-1;if(n=r.createShader(r.FRAGMENT_SHADER),r.shaderSource(n,l.text),r.compileShader(n),!r.getShaderParameter(n,r.COMPILE_STATUS))return i="Fragment shader failed to compile.  The error log is:<pre>"+r.getShaderInfoLog(n)+"</pre>",alert(i),-1;var s=r.createProgram();return r.attachShader(s,a),r.attachShader(s,n),r.linkProgram(s),r.getProgramParameter(s,r.LINK_STATUS)?s:(i="Shader program failed to link.  The error log is:<pre>"+r.getProgramInfoLog(s)+"</pre>",alert(i),-1)}function _argumentsToArray(r){return[].concat.apply([],Array.prototype.slice.apply(r))}function radians(r){return r*Math.PI/180}function vec2(){var r=_argumentsToArray(arguments);switch(r.length){case 0:r.push(0);case 1:r.push(0)}return r.splice(0,2)}function vec3(){var r=_argumentsToArray(arguments);switch(r.length){case 0:r.push(0);case 1:r.push(0);case 2:r.push(0)}return r.splice(0,3)}function vec4(){var r=_argumentsToArray(arguments);switch(r.length){case 0:r.push(0);case 1:r.push(0);case 2:r.push(0);case 3:r.push(1)}return r.splice(0,4)}function mat2(){var r=_argumentsToArray(arguments),t=[];switch(r.length){case 0:r[0]=1;case 1:t=[vec2(r[0],0),vec2(0,r[0])];break;default:t.push(vec2(r)),r.splice(0,2),t.push(vec2(r))}return t.matrix=!0,t}function mat3(){var r=_argumentsToArray(arguments),t=[];switch(r.length){case 0:r[0]=1;case 1:t=[vec3(r[0],0,0),vec3(0,r[0],0),vec3(0,0,r[0])];break;default:t.push(vec3(r)),r.splice(0,3),t.push(vec3(r)),r.splice(0,3),t.push(vec3(r))}return t.matrix=!0,t}function mat4(){var r=_argumentsToArray(arguments),t=[];switch(r.length){case 0:r[0]=1;case 1:t=[vec4(r[0],0,0,0),vec4(0,r[0],0,0),vec4(0,0,r[0],0),vec4(0,0,0,r[0])];break;default:t.push(vec4(r)),r.splice(0,4),t.push(vec4(r)),r.splice(0,4),t.push(vec4(r)),r.splice(0,4),t.push(vec4(r))}return t.matrix=!0,t}function equal(r,t){if(r.length!=t.length)return!1;if(r.matrix&&t.matrix)for(var e=0;e<r.length;++e){if(r[e].length!=t[e].length)return!1;for(var a=0;a<r[e].length;++a)if(r[e][a]!==t[e][a])return!1}else{if(r.matrix&&!t.matrix||!r.matrix&&t.matrix)return!1;for(e=0;e<r.length;++e)if(r[e]!==t[e])return!1}return!0}function add(r,t){var e=[];if(r.matrix&&t.matrix){if(r.length!=t.length)throw"add(): trying to add matrices of different dimensions";for(var a=0;a<r.length;++a){if(r[a].length!=t[a].length)throw"add(): trying to add matrices of different dimensions";e.push([]);for(var n=0;n<r[a].length;++n)e[a].push(r[a][n]+t[a][n])}return e.matrix=!0,e}if(r.matrix&&!t.matrix||!r.matrix&&t.matrix)throw"add(): trying to add matrix and non-matrix variables";if(r.length!=t.length)throw"add(): vectors are not the same dimension";for(a=0;a<r.length;++a)e.push(r[a]+t[a]);return e}function subtract(r,t){var e=[];if(r.matrix&&t.matrix){if(r.length!=t.length)throw"subtract(): trying to subtract matrices of different dimensions";for(var a=0;a<r.length;++a){if(r[a].length!=t[a].length)throw"subtract(): trying to subtact matrices of different dimensions";e.push([]);for(var n=0;n<r[a].length;++n)e[a].push(r[a][n]-t[a][n])}return e.matrix=!0,e}if(r.matrix&&!t.matrix||!r.matrix&&t.matrix)throw"subtact(): trying to subtact  matrix and non-matrix variables";if(r.length!=t.length)throw"subtract(): vectors are not the same length";for(a=0;a<r.length;++a)e.push(r[a]-t[a]);return e}function mult(r,t){var e=[];if(r.matrix&&t.matrix){if(r.length!=t.length)throw"mult(): trying to add matrices of different dimensions";for(var a=0;a<r.length;++a)if(r[a].length!=t[a].length)throw"mult(): trying to add matrices of different dimensions";for(a=0;a<r.length;++a){e.push([]);for(var n=0;n<t.length;++n){for(var o=0,i=0;i<r.length;++i)o+=r[a][i]*t[i][n];e[a].push(o)}}return e.matrix=!0,e}if(r.matrix&&r.length==t.length){for(a=0;a<t.length;a++){for(o=0,n=0;n<t.length;n++)o+=r[a][n]*t[n];e.push(o)}return e}if(r.length!=t.length)throw"mult(): vectors are not the same dimension";for(a=0;a<r.length;++a)e.push(r[a]*t[a]);return e}function translate(r,t,e){Array.isArray(r)&&3==r.length&&(e=r[2],t=r[1],r=r[0]);var a=mat4();return a[0][3]=r,a[1][3]=t,a[2][3]=e,a}function rotate(r,t){Array.isArray(t)||(t=[arguments[1],arguments[2],arguments[3]]);var e=normalize(t),a=e[0],n=e[1],o=e[2],i=Math.cos(radians(r)),l=1-i,s=Math.sin(radians(r));return mat4(vec4(a*a*l+i,a*n*l-o*s,a*o*l+n*s,0),vec4(a*n*l+o*s,n*n*l+i,n*o*l-a*s,0),vec4(a*o*l-n*s,n*o*l+a*s,o*o*l+i,0),vec4())}function rotateX(r){var t=Math.cos(radians(r)),e=Math.sin(radians(r));return mat4(1,0,0,0,0,t,-e,0,0,e,t,0,0,0,0,1)}function rotateY(r){var t=Math.cos(radians(r)),e=Math.sin(radians(r));return mat4(t,0,e,0,0,1,0,0,-e,0,t,0,0,0,0,1)}function rotateZ(r){var t=Math.cos(radians(r)),e=Math.sin(radians(r));return mat4(t,-e,0,0,e,t,0,0,0,0,1,0,0,0,0,1)}function scalem(r,t,e){Array.isArray(r)&&3==r.length&&(e=r[2],t=r[1],r=r[0]);var a=mat4();return a[0][0]=r,a[1][1]=t,a[2][2]=e,a}function lookAt(r,t,e){if(!Array.isArray(r)||3!=r.length)throw"lookAt(): first parameter [eye] must be an a vec3";if(!Array.isArray(t)||3!=t.length)throw"lookAt(): first parameter [at] must be an a vec3";if(!Array.isArray(e)||3!=e.length)throw"lookAt(): first parameter [up] must be an a vec3";if(equal(r,t))return mat4();var a=normalize(subtract(t,r)),n=normalize(cross(a,e)),o=normalize(cross(n,a));return a=negate(a),mat4(vec4(n,-dot(n,r)),vec4(o,-dot(o,r)),vec4(a,-dot(a,r)),vec4())}function ortho(r,t,e,a,n,o){if(r==t)throw"ortho(): left and right are equal";if(e==a)throw"ortho(): bottom and top are equal";if(n==o)throw"ortho(): near and far are equal";var i=t-r,l=a-e,s=o-n,h=mat4();return h[0][0]=2/i,h[1][1]=2/l,h[2][2]=-2/s,h[0][3]=-(r+t)/i,h[1][3]=-(a+e)/l,h[2][3]=-(n+o)/s,h}function perspective(r,t,e,a){var n=1/Math.tan(radians(r)/2),o=a-e,i=mat4();return i[0][0]=n/t,i[1][1]=n,i[2][2]=-(e+a)/o,i[2][3]=-2*e*a/o,i[3][2]=-1,i[3][3]=0,i}function transpose(r){if(!r.matrix)return"transpose(): trying to transpose a non-matrix";for(var t=[],e=0;e<r.length;++e){t.push([]);for(var a=0;a<r[e].length;++a)t[e].push(r[a][e])}return t.matrix=!0,t}function dot(r,t){if(r.length!=t.length)throw"dot(): vectors are not the same dimension";for(var e=0,a=0;a<r.length;++a)e+=r[a]*t[a];return e}function negate(r){for(var t=[],e=0;e<r.length;++e)t.push(-r[e]);return t}function cross(r,t){if(!Array.isArray(r)||r.length<3)throw"cross(): first argument is not a vector of at least 3";if(!Array.isArray(t)||t.length<3)throw"cross(): second argument is not a vector of at least 3";return[r[1]*t[2]-r[2]*t[1],r[2]*t[0]-r[0]*t[2],r[0]*t[1]-r[1]*t[0]]}function length(r){return Math.sqrt(dot(r,r))}function normalize(r,t){if(t)var e=r.pop();var a=length(r);if(!isFinite(a))throw"normalize: vector "+r+" has zero length";for(var n=0;n<r.length;++n)r[n]/=a;return t&&r.push(e),r}function mix(r,t,e){if("number"!=typeof e)throw"mix: the last paramter "+e+" must be a number";if(r.length!=t.length)throw"vector dimension mismatch";for(var a=[],n=0;n<r.length;++n)a.push((1-e)*r[n]+e*t[n]);return a}function scale(r,t){if(!Array.isArray(t))throw"scale: second parameter "+t+" is not a vector";for(var e=[],a=0;a<t.length;++a)e.push(r*t[a]);return e}function flatten(r){!0===r.matrix&&(r=transpose(r));var t=r.length,e=!1;Array.isArray(r[0])&&(e=!0,t*=r[0].length);var a=new Float32Array(t);if(e)for(var n=0,o=0;o<r.length;++o)for(var i=0;i<r[o].length;++i)a[n++]=r[o][i];else for(o=0;o<r.length;++o)a[o]=r[o];return a}WebGLUtils=function(){var n=function(o,i){for(var l=["webgl","experimental-webgl","webkit-3d","moz-webgl"],s=null,h=0;h<l.length;++h){try{s=o.getContext(l[h],i)}catch{}if(s)break}return s};return{create3DContext:n,setupWebGL:function(o,i){function l(h){var f=o.parentNode;f&&(f.innerHTML=function(o){return'<table style="background-color: #8CE; width: 100%; height: 100%;"><tr><td align="center"><div style="display: table-cell; vertical-align: middle;"><div style="">'+o+"</div></div></td></tr></table>"}(h))}if(!window.WebGLRenderingContext)return l('This page requires a browser that supports WebGL.<br/><a href="http://get.webgl.org">Click here to upgrade your browser.</a>'),null;var s=n(o,i);return s||l('It doesn\'t appear your computer can support WebGL.<br/><a href="http://get.webgl.org/troubleshooting/">Click here for more information.</a>'),s}}}(),window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(r,t){window.setTimeout(r,1e3/60)};var sizeof={vec2:new Float32Array(flatten(vec2())).byteLength,vec3:new Float32Array(flatten(vec3())).byteLength,vec4:new Float32Array(flatten(vec4())).byteLength,mat2:new Float32Array(flatten(mat2())).byteLength,mat3:new Float32Array(flatten(mat3())).byteLength,mat4:new Float32Array(flatten(mat4())).byteLength};function printm(r){if(2==r.length)for(var t=0;t<r.length;t++)console.log(r[t][0],r[t][1]);else if(3==r.length)for(t=0;t<r.length;t++)console.log(r[t][0],r[t][1],r[t][2]);else if(4==r.length)for(t=0;t<r.length;t++)console.log(r[t][0],r[t][1],r[t][2],r[t][3])}function det2(r){return r[0][0]*r[1][1]-r[0][1]*r[1][0]}function det3(r){return r[0][0]*r[1][1]*r[2][2]+r[0][1]*r[1][2]*r[2][0]+r[0][2]*r[2][1]*r[1][0]-r[2][0]*r[1][1]*r[0][2]-r[1][0]*r[0][1]*r[2][2]-r[0][0]*r[1][2]*r[2][1]}function det4(r){var t=[vec3(r[1][1],r[1][2],r[1][3]),vec3(r[2][1],r[2][2],r[2][3]),vec3(r[3][1],r[3][2],r[3][3])],e=[vec3(r[1][0],r[1][2],r[1][3]),vec3(r[2][0],r[2][2],r[2][3]),vec3(r[3][0],r[3][2],r[3][3])],a=[vec3(r[1][0],r[1][1],r[1][3]),vec3(r[2][0],r[2][1],r[2][3]),vec3(r[3][0],r[3][1],r[3][3])],n=[vec3(r[1][0],r[1][1],r[1][2]),vec3(r[2][0],r[2][1],r[2][2]),vec3(r[3][0],r[3][1],r[3][2])];return r[0][0]*det3(t)-r[0][1]*det3(e)+r[0][2]*det3(a)-r[0][3]*det3(n)}function det(r){return 1!=r.matrix&&console.log("not a matrix"),2==r.length?det2(r):3==r.length?det3(r):4==r.length?det4(r):void 0}function inverse2(r){var t=mat2(),e=det2(r);return t[0][0]=r[1][1]/e,t[0][1]=-r[0][1]/e,t[1][0]=-r[1][0]/e,t[1][1]=r[0][0]/e,t.matrix=!0,t}function inverse3(r){var t=mat3(),e=det3(r),a=[vec2(r[1][1],r[1][2]),vec2(r[2][1],r[2][2])],n=[vec2(r[1][0],r[1][2]),vec2(r[2][0],r[2][2])],o=[vec2(r[1][0],r[1][1]),vec2(r[2][0],r[2][1])],i=[vec2(r[0][1],r[0][2]),vec2(r[2][1],r[2][2])],l=[vec2(r[0][0],r[0][2]),vec2(r[2][0],r[2][2])],s=[vec2(r[0][0],r[0][1]),vec2(r[2][0],r[2][1])],h=[vec2(r[0][1],r[0][2]),vec2(r[1][1],r[1][2])],f=[vec2(r[0][0],r[0][2]),vec2(r[1][0],r[1][2])],u=[vec2(r[0][0],r[0][1]),vec2(r[1][0],r[1][1])];return t[0][0]=det2(a)/e,t[0][1]=-det2(i)/e,t[0][2]=det2(h)/e,t[1][0]=-det2(n)/e,t[1][1]=det2(l)/e,t[1][2]=-det2(f)/e,t[2][0]=det2(o)/e,t[2][1]=-det2(s)/e,t[2][2]=det2(u)/e,t}function inverse4(r){var t=mat4(),e=det4(r),a=[vec3(r[1][1],r[1][2],r[1][3]),vec3(r[2][1],r[2][2],r[2][3]),vec3(r[3][1],r[3][2],r[3][3])],n=[vec3(r[1][0],r[1][2],r[1][3]),vec3(r[2][0],r[2][2],r[2][3]),vec3(r[3][0],r[3][2],r[3][3])],o=[vec3(r[1][0],r[1][1],r[1][3]),vec3(r[2][0],r[2][1],r[2][3]),vec3(r[3][0],r[3][1],r[3][3])],i=[vec3(r[1][0],r[1][1],r[1][2]),vec3(r[2][0],r[2][1],r[2][2]),vec3(r[3][0],r[3][1],r[3][2])],l=[vec3(r[0][1],r[0][2],r[0][3]),vec3(r[2][1],r[2][2],r[2][3]),vec3(r[3][1],r[3][2],r[3][3])],s=[vec3(r[0][0],r[0][2],r[0][3]),vec3(r[2][0],r[2][2],r[2][3]),vec3(r[3][0],r[3][2],r[3][3])],h=[vec3(r[0][0],r[0][1],r[0][3]),vec3(r[2][0],r[2][1],r[2][3]),vec3(r[3][0],r[3][1],r[3][3])],f=[vec3(r[0][0],r[0][1],r[0][2]),vec3(r[2][0],r[2][1],r[2][2]),vec3(r[3][0],r[3][1],r[3][2])],u=[vec3(r[0][1],r[0][2],r[0][3]),vec3(r[1][1],r[1][2],r[1][3]),vec3(r[3][1],r[3][2],r[3][3])],c=[vec3(r[0][0],r[0][2],r[0][3]),vec3(r[1][0],r[1][2],r[1][3]),vec3(r[3][0],r[3][2],r[3][3])],g=[vec3(r[0][0],r[0][1],r[0][3]),vec3(r[1][0],r[1][1],r[1][3]),vec3(r[3][0],r[3][1],r[3][3])],v=[vec3(r[0][0],r[0][1],r[0][2]),vec3(r[1][0],r[1][1],r[1][2]),vec3(r[3][0],r[3][1],r[3][2])],d=[vec3(r[0][1],r[0][2],r[0][3]),vec3(r[1][1],r[1][2],r[1][3]),vec3(r[2][1],r[2][2],r[2][3])],p=[vec3(r[0][0],r[0][2],r[0][3]),vec3(r[1][0],r[1][2],r[1][3]),vec3(r[2][0],r[2][2],r[2][3])],w=[vec3(r[0][0],r[0][1],r[0][3]),vec3(r[1][0],r[1][1],r[1][3]),vec3(r[2][0],r[2][1],r[2][3])],y=[vec3(r[0][0],r[0][1],r[0][2]),vec3(r[1][0],r[1][1],r[1][2]),vec3(r[2][0],r[2][1],r[2][2])];return t[0][0]=det3(a)/e,t[0][1]=-det3(l)/e,t[0][2]=det3(u)/e,t[0][3]=-det3(d)/e,t[1][0]=-det3(n)/e,t[1][1]=det3(s)/e,t[1][2]=-det3(c)/e,t[1][3]=det3(p)/e,t[2][0]=det3(o)/e,t[2][1]=-det3(h)/e,t[2][2]=det3(g)/e,t[2][3]=-det3(w)/e,t[3][0]=-det3(i)/e,t[3][1]=det3(f)/e,t[3][2]=-det3(v)/e,t[3][3]=det3(y)/e,t}function inverse(r){return 1!=r.matrix&&console.log("not a matrix"),2==r.length?inverse2(r):3==r.length?inverse3(r):4==r.length?inverse4(r):void 0}function normalMatrix(r,t){var e=mat4();if(e=inverse(transpose(r)),1!=t)return e;for(var a=mat3(),n=0;n<3;n++)for(var o=0;o<3;o++)a[n][o]=e[n][o];return a}function sayHelloWorld(){console.log("Hello World from the JS file!")}